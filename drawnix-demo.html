<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawnix Exact Clone - Demo</title>
    <link rel="stylesheet" href="drawnix-styles.css">
</head>
<body>
    <!-- EXACT DRAWNIX CLONE -->
    <div class="drawnix-mindmap">
        <!-- Infinite Canvas -->
        <div class="drawnix-canvas-container" id="canvas">
            <svg class="drawnix-canvas-svg" id="svg"></svg>
            <div class="drawnix-canvas-content" id="content">
                <!-- Shapes will be added here -->
            </div>
        </div>

        <!-- App Toolbar (Top Left) -->
        <div class="island app-toolbar">
            <div class="stack stack-horizontal" style="--gap: 1">
                <button class="tool-icon" id="menuBtn" title="Menu" aria-label="Menu">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"/>
                            <line x1="3" y1="6" x2="21" y2="6"/>
                            <line x1="3" y1="18" x2="21" y2="18"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" id="undoBtn" title="Undo (Ctrl+Z)" aria-label="Undo">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7v6h6"/>
                            <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" id="redoBtn" title="Redo (Ctrl+Y)" aria-label="Redo">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 7v6h-6"/>
                            <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>

        <!-- Creation Toolbar (Top Center) -->
        <div class="island creation-toolbar">
            <div class="stack stack-horizontal" style="--gap: 1">
                <button class="tool-icon" data-tool="hand" title="Hand (H)" aria-label="Hand tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 11V6a2 2 0 00-4 0v5M14 11V4a2 2 0 00-4 0v7m-2 0V9a2 2 0 10-4 0v11a7 7 0 0014 0v-5"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon tool-icon--selected" data-tool="selection" title="Selection (V)" aria-label="Selection tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="mind" title="Mind Map (M)" aria-label="Mind map tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="2"/>
                            <circle cx="6" cy="6" r="1.5"/>
                            <circle cx="18" cy="6" r="1.5"/>
                            <circle cx="6" cy="18" r="1.5"/>
                            <circle cx="18" cy="18" r="1.5"/>
                            <line x1="12" y1="12" x2="6" y2="6"/>
                            <line x1="12" y1="12" x2="18" y2="6"/>
                            <line x1="12" y1="12" x2="6" y2="18"/>
                            <line x1="12" y1="12" x2="18" y2="18"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="text" title="Text (T)" aria-label="Text tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="4 7 4 4 20 4 20 7"/>
                            <line x1="9" y1="20" x2="15" y2="20"/>
                            <line x1="12" y1="4" x2="12" y2="20"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="pen" title="Pen (P)" aria-label="Pen tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="arrow" title="Arrow (A)" aria-label="Arrow tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"/>
                            <polyline points="12 5 19 12 12 19"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="shape" title="Shape (S)" aria-label="Shape tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="image" title="Image (I)" aria-label="Image tool">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="more" title="More Tools" aria-label="More tools">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="1"/>
                            <circle cx="19" cy="12" r="1"/>
                            <circle cx="5" cy="12" r="1"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>

        <!-- Zoom Toolbar (Top Right) -->
        <div class="island zoom-toolbar">
            <div class="stack stack-horizontal" style="--gap: 0">
                <button class="tool-icon zoom-out-button" id="zoomOutBtn" title="Zoom Out" aria-label="Zoom out">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                            <line x1="8" y1="11" x2="14" y2="11"/>
                        </svg>
                    </div>
                </button>
                <div class="zoom-display" id="zoomDisplay" title="Zoom to fit">100%</div>
                <button class="tool-icon zoom-in-button" id="zoomInBtn" title="Zoom In" aria-label="Zoom in">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                            <line x1="11" y1="8" x2="11" y2="14"/>
                            <line x1="8" y1="11" x2="14" y2="11"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>

        <!-- Theme Toolbar (Bottom Right) -->
        <div class="island theme-toolbar">
            <select class="theme-select" id="themeSelect" aria-label="Select theme">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
            </select>
        </div>
    </div>

    <script>
        console.log('Drawnix Exact Clone loaded');

        // Tool switching
        const toolBtns = document.querySelectorAll('[data-tool]');
        toolBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                toolBtns.forEach(b => b.classList.remove('tool-icon--selected'));
                btn.classList.add('tool-icon--selected');
                console.log('Tool selected:', btn.dataset.tool);
            });
        });

        // Zoom controls
        let zoom = 1;
        const zoomDisplay = document.getElementById('zoomDisplay');
        const canvas = document.getElementById('canvas');

        document.getElementById('zoomInBtn').addEventListener('click', () => {
            zoom = Math.min(zoom + 0.1, 2);
            updateZoom();
        });

        document.getElementById('zoomOutBtn').addEventListener('click', () => {
            zoom = Math.max(zoom - 0.1, 0.5);
            updateZoom();
        });

        function updateZoom() {
            zoomDisplay.textContent = Math.round(zoom * 100) + '%';
            // Apply zoom to content, not container (to keep grid fixed)
            document.getElementById('content').style.transform = `scale(${zoom})`;
        }

        // Theme switching
        const themeSelect = document.getElementById('themeSelect');
        const mindmap = document.querySelector('.drawnix-mindmap');

        themeSelect.addEventListener('change', (e) => {
            mindmap.setAttribute('data-theme', e.target.value);
            console.log('Theme changed:', e.target.value);
        });

        // Canvas pan (simple implementation)
        let isPanning = false;
        let startX, startY;
        let translateX = 0, translateY = 0;

        canvas.addEventListener('mousedown', (e) => {
            if (e.button === 0) {  // Left mouse button
                isPanning = true;
                startX = e.clientX - translateX;
                startY = e.clientY - translateY;
            }
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isPanning) {
                translateX = e.clientX - startX;
                translateY = e.clientY - startY;
                document.getElementById('content').style.transform =
                    `scale(${zoom}) translate(${translateX}px, ${translateY}px)`;
            }
        });

        canvas.addEventListener('mouseup', () => {
            isPanning = false;
        });

        canvas.addEventListener('mouseleave', () => {
            isPanning = false;
        });

        console.log('‚ú® Drawnix Exact Clone ready!');
        console.log('üì¶ Components: Island, Stack, ToolButton');
        console.log('üé® Theme: Matches Drawnix exactly');
        console.log('üõ†Ô∏è Tools: 9 creation tools');
    </script>
</body>
</html>
