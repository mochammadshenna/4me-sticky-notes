<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mind Map Test - Direct Load</title>
    <link rel="stylesheet" href="drawnix-styles.css">
    <style>
        body { margin: 0; padding: 0; }
    </style>
</head>
<body>
    <!-- Mind Map Mode - DRAWNIX EXACT CLONE WITH WORKING TOOLS -->
    <div id="mindmapBoard" class="drawnix-mindmap">
        <!-- Infinite Canvas -->
        <div class="drawnix-canvas-container" id="mindmapCanvas">
            <svg class="drawnix-canvas-svg" id="connectionSvg">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#6698ff"/>
                    </marker>
                </defs>
            </svg>
            <div class="drawnix-canvas-content" id="mindmapContainer">
                <!-- Shapes will be added here dynamically -->
            </div>
        </div>

        <!-- App Toolbar (Top Left) -->
        <div class="island app-toolbar">
            <div class="stack stack-horizontal" style="--gap: 1">
                <button class="tool-icon" id="backToModesBtn" title="Back" aria-label="Back">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="19" y1="12" x2="5" y2="12"/>
                            <polyline points="12 19 5 12 12 5"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" id="undoBtn" title="Undo" aria-label="Undo">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7v6h6"/>
                            <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" id="redoBtn" title="Redo" aria-label="Redo">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 7v6h-6"/>
                            <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" id="exportBtn" title="Export" aria-label="Export">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>

        <!-- Creation Toolbar (Top Center) -->
        <div class="island creation-toolbar">
            <div class="stack stack-horizontal" style="--gap: 1">
                <button class="tool-icon" data-tool="hand" title="Hand (H)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 11V6a2 2 0 00-4 0v5M14 11V4a2 2 0 00-4 0v7m-2 0V9a2 2 0 10-4 0v11a7 7 0 0014 0v-5"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon tool-icon--selected" data-tool="selection" title="Selection (V)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="mind" title="Mind Map (M)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="2"/>
                            <circle cx="6" cy="6" r="1.5"/>
                            <circle cx="18" cy="6" r="1.5"/>
                            <circle cx="6" cy="18" r="1.5"/>
                            <circle cx="18" cy="18" r="1.5"/>
                            <line x1="12" y1="12" x2="6" y2="6"/>
                            <line x1="12" y1="12" x2="18" y2="6"/>
                            <line x1="12" y1="12" x2="6" y2="18"/>
                            <line x1="12" y1="12" x2="18" y2="18"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="text" title="Text (T)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="4 7 4 4 20 4 20 7"/>
                            <line x1="9" y1="20" x2="15" y2="20"/>
                            <line x1="12" y1="4" x2="12" y2="20"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="pen" title="Pen (P)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="arrow" title="Arrow (A)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"/>
                            <polyline points="12 5 19 12 12 19"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="rectangle" title="Rectangle (R)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="circle" title="Circle (C)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="9"/>
                        </svg>
                    </div>
                </button>
                <button class="tool-icon" data-tool="eraser" title="Eraser (E)">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 20H7L3 16l6-6 5 5"/>
                            <path d="m15 9 5 5"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>

        <!-- Zoom Toolbar (Top Right) -->
        <div class="island zoom-toolbar">
            <div class="stack stack-horizontal" style="--gap: 0">
                <button class="tool-icon zoom-out-button" id="zoomOutBtn" title="Zoom Out">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                            <line x1="8" y1="11" x2="14" y2="11"/>
                        </svg>
                    </div>
                </button>
                <div class="zoom-display" id="zoomDisplay" title="Zoom">100%</div>
                <button class="tool-icon zoom-in-button" id="zoomInBtn" title="Zoom In">
                    <div class="tool-icon__icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="M21 21l-4.35-4.35"/>
                            <line x1="11" y1="8" x2="11" y2="14"/>
                            <line x1="8" y1="11" x2="14" y2="11"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <script src="mindmap-tools.js"></script>
    <script>
        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ Test page loaded');
            if (typeof initMindMapTools === 'function') {
                initMindMapTools();
                console.log('‚úÖ Mind Map tools initialized');
            } else {
                console.error('‚ùå initMindMapTools not found!');
            }
        });
    </script>
</body>
</html>
